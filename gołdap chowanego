<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Strefa Gołdap</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

<style>
  body { margin: 0; }
  #map { height: 100vh; }
</style>
</head>
<body>

<div id="map"></div>

<script>
  // Współrzędne Gołdapi
  const goldap = [54.3089, 22.3041];

  const map = L.map('map').setView(goldap, 13);

  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(map);

  let radius = 2000; // początkowy promień w metrach
  let center = goldap;

  let zone = L.circle(center, {
    color: 'red',
    fillColor: '#f03',
    fillOpacity: 0.3,
    radius: radius
  }).addTo(map);

  function shrinkZone() {
    // zmniejsz promień
    radius *= 0.8;

    // losowe przesunięcie środka
    const latOffset = (Math.random() - 0.5) * 0.01;
    const lngOffset = (Math.random() - 0.5) * 0.01;

    center = [center[0] + latOffset, center[1] + lngOffset];

    zone.setLatLng(center);
    zone.setRadius(radius);

    if (radius < 200) {
      clearInterval(interval);
      alert("Strefa zamknięta!");
    }
  }

  const interval = setInterval(shrinkZone, 5000); // co 5 sekund
</script>

</body>
</html>
